registry = {}


def register(cls):
    registry[cls.__clsid__] = cls
    return cls


@register
class Foo(object):
    __clsid__ = "123-456"

    def bar(self):
        pass


f = Foo()
print(registry)




event_handlers = {}
def eventhandler(event):
    def register_function(f):
        event_handlers[event] = f
        return f

    return register_function

@eventhandler("text")
def event(i):
    print(f"函数装饰器{i}")

e = event(1)
print(event_handlers)

